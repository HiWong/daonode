// Generated by CoffeeScript 1.6.2
(function() {
  var ExpressionError, SolverFail, Trail, TypeError, Var, _ref;

  _ref = require("./solve"), Trail = _ref.Trail, Var = _ref.Var, ExpressionError = _ref.ExpressionError, TypeError = _ref.TypeError, SolverFail = _ref.SolverFail;

  exports.operator = function(solver) {
    var c, c1, length, pos, text, _ref1;

    _ref1 = solver.state, text = _ref1[0], pos = _ref1[1];
    length = text.length;
    if (pos >= length) {
      throw new SolverFail(pos);
    }
    c = text[pos];
    switch (c) {
      case '+':
        solver.state = [text, pos + 1];
        return 'vop_add';
      case '-':
        solver.state = [text, pos + 1];
        return 'vop_sub';
      case '*':
        solver.state = [text, pos + 1];
        return 'vop_mul';
      case '/':
        solver.state = [text, pos + 1];
        return 'vop_div';
      case '%':
        solver.state = [text, pos + 1];
        return 'vop_mod';
      case '=':
        c1 = text[pos + 1];
        if (c1 === '=') {
          solver.state = [text, pos + 2];
          return 'vop_eq';
        } else {
          return solver.failcont(pos);
        }
        break;
      case '!':
        c1 = text[pos + 1];
        if (c1 === '=') {
          solver.state = [text, pos + 2];
          return 'vop_ne';
        } else {
          return solver.failcont(pos);
        }
        break;
      case '>':
        c1 = text[pos + 1];
        if (c1 === '=') {
          solver.state = [text, pos + 2];
          return 'vop_ge';
        } else if (c1 === '>') {
          solver.state = [text, pos + 2];
          return 'vop_rshift';
        } else {
          solver.state = [text, pos + 1];
          return 'vop_gt';
        }
        break;
      case '<':
        c1 = text[pos + 1];
        if (c1 === '=') {
          solver.state = [text, pos + 2];
          return 'vop_le';
        } else if (c1 === '<') {
          solver.state = [text, pos + 2];
          return 'vop_lshift';
        } else {
          solver.state = [text, pos + 1];
          return 'vop_lt';
        }
    }
  };

}).call(this);

/*
//@ sourceMappingURL=daoutil.map
*/
