// Generated by CoffeeScript 1.6.2
(function() {
  var fun, solve, special,
    __slice = [].slice;

  solve = require("../../src/solve");

  fun = solve.fun;

  special = solve.special;

  exports.print_ = fun('print_', function() {
    var args;

    args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
    return console.log.apply(console, args);
  });

  exports.add = fun('add', function(x, y) {
    return x + y;
  });

  exports.sub = fun('sub', function(x, y) {
    return x - y;
  });

  exports.mul = fun('mul', function(x, y) {
    return x * y;
  });

  exports.div = fun('div', function(x, y) {
    return x / y;
  });

  exports.mod = fun('mod', function(x, y) {
    return x % y;
  });

  exports.and_ = fun('and_', function(x, y) {
    return x && y;
  });

  exports.or_ = fun('or_', function(x, y) {
    return x || y;
  });

  exports.not_ = fun('not_', function(x) {
    return !x;
  });

  exports.lshift = fun('lshift', function(x, y) {
    return x << y;
  });

  exports.rshift = fun('rshift', function(x, y) {
    return x >> y;
  });

  exports.bitand = fun('bitand', function(x, y) {
    return x & y;
  });

  exports.bitor = fun('bitor', function(x, y) {
    return x | y;
  });

  exports.bitnot = fun('bitnot', function(x) {
    return ~x;
  });

  exports.eq = special('eq', function(solver, cont, x, y) {
    var xcont, ycont;

    ycont = solver.cont(y, function(v, solver) {
      return cont(x === v, solver);
    });
    xcont = function(v, solver) {
      x = v;
      return ycont(null, solver);
    };
    return solver.cont(x, xcont);
  });

  exports.ne = special('ne', function(solver, cont, x, y) {
    var xcont, ycont;

    ycont = solver.cont(y, function(v, solver) {
      return cont(x !== v, solver);
    });
    xcont = function(v, solver) {
      x = v;
      return ycont(null, solver);
    };
    return solver.cont(x, xcont);
  });

  exports.lt = special('lt', function(solver, cont, x, y) {
    var xcont, ycont;

    ycont = solver.cont(y, function(v, solver) {
      return cont(x <= v, solver);
    });
    xcont = function(v, solver) {
      x = v;
      return ycont(null, solver);
    };
    return solver.cont(x, xcont);
  });

  exports.le = special('le', function(solver, cont, x, y) {
    var xcont, ycont;

    ycont = solver.cont(y, function(v, solver) {
      return cont(x <= v, solver);
    });
    xcont = function(v, solver) {
      x = v;
      return ycont(null, solver);
    };
    return solver.cont(x, xcont);
  });

  exports.gt = special('gt', function(solver, cont, x, y) {
    var xcont, ycont;

    ycont = solver.cont(y, function(v, solver) {
      return cont(x > v, solver);
    });
    xcont = function(v, solver) {
      x = v;
      return ycont(null, solver);
    };
    return solver.cont(x, xcont);
  });

  exports.ge = special('ge', function(solver, cont, x, y) {
    var xcont, ycont;

    ycont = solver.cont(y, function(v, solver) {
      return cont(x >= v, solver);
    });
    xcont = function(v, solver) {
      x = v;
      return ycont(null, solver);
    };
    return solver.cont(x, xcont);
  });

  exports.inc = special('inc', function(solver, cont, vari) {
    return function(v, solver) {
      return cont(++vari.binding, solver);
    };
  });

  exports.inc2 = special('inc2', function(solver, cont, vari) {
    return function(v, solver) {
      vari.binding++;
      return cont(++vari.binding, solver);
    };
  });

  exports.dec = special('dec', function(solver, cont, vari) {
    return function(v, solver) {
      return cont(--vari.binding, solver);
    };
  });

  exports.dec2 = special('dec2', function(solver, cont, vari) {
    return function(v, solver) {
      vari.binding--;
      return cont(--vari.binding, solver);
    };
  });

  exports.getvalue = special('getvalue', function(solver, cont, x) {
    return function(v, solver) {
      return cont(solver.trail.getvalue(x), solver);
    };
  });

  exports.length = special('length', function(solver, cont, x) {
    return solver.cont(x, function(v, solver) {
      return cont(v.length, solver);
    });
  });

  exports.neg = special('neg', function(solver, cont, x) {
    return solver.cont(x, function(v, solver) {
      return cont(-v, solver);
    });
  });

  exports.neg = special('neg', function(solver, cont, x) {
    return solver.cont(x, function(v, solver) {
      return cont(-v, solver);
    });
  });

  exports.abs = special('abs', function(solver, cont, x) {
    return solver.cont(x, function(v, solver) {
      return cont(Math.abs(v), solver);
    });
  });

  exports.index = special('index', function(solver, cont, x, y) {
    var xcont, ycont;

    ycont = solver.cont(y, function(v, solver) {
      return cont(x[y], solver);
    });
    xcont = function(v, solver) {
      x = v;
      return ycont(null, solver);
    };
    return solver.cont(x, xcont);
  });

  exports.first = special('first', function(solver, cont, x) {
    return solver.cont(x, function(v, solver) {
      return cont(v[0], solver);
    });
  });

  exports.left = special('first', function(solver, cont, x) {
    return solver.cont(x, function(v, solver) {
      return cont(v.slice(1), solver);
    });
  });

  exports.second = special('first', function(solver, cont, x) {
    return solver.cont(x, function(v, solver) {
      return cont(v[1], solver);
    });
  });

  exports.third = special('first', function(solver, cont, x) {
    return solver.cont(x, function(v, solver) {
      return cont(v[2], solver);
    });
  });

  exports.concat = special('index', function(solver, cont, x, y) {
    var xcont, ycont;

    ycont = solver.cont(y, function(v, solver) {
      return cont(x.concat(y), solver);
    });
    xcont = function(v, solver) {
      x = v;
      return ycont(null, solver);
    };
    return solver.cont(x, xcont);
  });

  exports.free = special('freep', function(solver, cont, x) {
    return function(v, solver) {
      return cont(solver.trail.deref(x) instanceof Var, solver);
    };
  });

}).call(this);

/*
//@ sourceMappingURL=general.map
*/
